/* START OF FILE style.css */

:root {
    /* LJUST TEMA - GRUNDLÄGGANDE FALLBACK OM INGEN KLASS ÄR SATT PÅ BODY */
    /* Dessa kommer att skrivas över av body.light-theme eller body.dark-theme */
    --primary-color: #0077cc;
    --primary-hover: #005fa3;
    --primary-text: #ffffff;
    --secondary-color: #eef7ff;
    --secondary-text: #334155;
    --accent-color: #14b8a6;
    --accent-hover: #0d9488;
    --accent-text: #ffffff;
    --danger-color: #dc2626;
    --danger-hover: #b91c1c;
    --danger-text: #ffffff;
    --warning-color: #f59e0b;
    --warning-hover: #d97706;
    --warning-text: #1f2937;
    --success-color: #16a34a;
    --success-hover: #15803d;
    --success-text: #ffffff;
    --neutral-color: #bfd0e8;
    --neutral-hover: #bfd0e8;
    --neutral-text: #ffffff;
    --border-color: #cbd5e1;
    --section-bg: #ffffff;
    --text-color: var(--secondary-text);
    --heading-color: #0f172a;
    --link-color: var(--primary-color);
    --link-hover-color: var(--primary-hover);
    --code-bg: #e0f2fe;
    --code-border: #bae6fd;
    --exception-bg: #fffbeb;
    --exception-border: #fef3c7;
    --focus-ring-color: #38bdf8;
    --disabled-bg: #e2e8f0;
    --disabled-text: #94a3b8;
    --placeholder-text: #94a3b8; /* Behålls om den skulle användas någonans */
    --fieldset-bg-light: #f8fafc; 
    --input-bg-dark: #293548;    
}

/* LJUST TEMA (sätts med body.light-theme, eller som default om ingen temaklass finns) */
body.light-theme, :root:not(body.dark-theme) { 
    --primary-color: #0077cc;
    --primary-hover: #005fa3;
    --primary-text: #ffffff;
    --secondary-color: #eef7ff;
    --secondary-text: #334155;
    --accent-color: #14b8a6;
    --accent-hover: #0d9488;
    --accent-text: #ffffff;
    --danger-color: #dc2626;
    --danger-hover: #b91c1c;
    --danger-text: #ffffff;
    --warning-color: #f59e0b;
    --warning-hover: #d97706;
    --warning-text: #1f2937;
    --success-color: #16a34a;
    --success-hover: #15803d;
    --success-text: #ffffff;
    --neutral-color: #64748b;
    --neutral-hover: #475569;
    --neutral-text: #ffffff;
    --border-color: #cbd5e1;
    --section-bg: #ffffff;
    --text-color: var(--secondary-text);
    --heading-color: #0f172a;
    --link-color: var(--primary-color);
    --link-hover-color: var(--primary-hover);
    --code-bg: #e0f2fe;
    --code-border: #bae6fd;
    --exception-bg: #fffbeb;
    --exception-border: #fef3c7;
    --focus-ring-color: #38bdf8;
    --disabled-bg: #e2e8f0;
    --disabled-text: #94a3b8;
    --placeholder-text: #94a3b8;

    background-color: var(--secondary-color);
    color: var(--text-color);
}

/* MÖRKT TEMA (sätts med body.dark-theme) */
body.dark-theme {
    --primary-color: #38bdf8;
    --primary-hover: #7dd3fc;
    --primary-text: #0f172a;
    --secondary-color: #1e293b;
    --secondary-text: #e2e8f0;
    --accent-color: #2dd4bf;
    --accent-hover: #5eead4;
    --accent-text: #0f172a;
    --danger-color: #f87171;
    --danger-hover: #fb923c;
    --danger-text: #1f2937;
    --warning-color: #facc15;
    --warning-hover: #fde047;
    --warning-text: #1f2937;
    --success-color: #4ade80;
    --success-hover: #86efac;
    --success-text: #1f2937;
    --neutral-color: #cce1ff;
    --neutral-hover: #cbd5e1;
    --neutral-text: #1e293b;
    --border-color: #475569;
    --section-bg: #334155;
    --text-color: var(--secondary-text);
    --heading-color: #f8fafc;
    --link-color: var(--primary-color);
    --link-hover-color: var(--primary-hover);
    --code-bg: #374151;
    --code-border: #4b5563;
    --exception-bg: #4f46e5;
    --exception-border: #4338ca;
    --focus-ring-color: #7dd3fc;
    --disabled-bg: #475569;
    --disabled-text: #94a3b8;
    --placeholder-text: #64748b;

    background-color: var(--secondary-color);
    color: var(--text-color);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.6;
    min-height: 100vh;
    transition: background-color 0.2s ease, color 0.2s ease;
}

/* ÄNDRAD: Styling för funktionsraderna (action-bar) */
.action-bar {
    width: 95%; /* Matchar övrigt innehåll */
    max-width: 1300px; /* Matchar övrigt innehåll */
    background-color: var(--section-bg);
    padding: 0.75rem 1.5rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.06);
}
#top-bar {
    margin-bottom: 1.5rem;
}
#bottom-bar {
    margin-top: 2rem;
}
.action-bar-content {
    width: 100%;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: 0.75rem;
}

/* ÄNDRAD: Använder klass-selektor istället för ID */
.theme-toggle-button {
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--section-bg);
    color: var(--text-color);
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}
.theme-toggle-button:hover {
    background-color: var(--secondary-color); /* Använder sidans bakgrundsfärg för en subtil effekt */
    border-color: var(--primary-color);      /* Tydliggör kanten med temafärgen */
}
.theme-toggle-button:focus-visible {
    outline: 3px solid var(--focus-ring-color);
    outline-offset: 2px;
}

h1, h2, h3, h4 {
    color: var(--heading-color);
    margin-block-start: 0.5em;
    margin-block-end: 0.75em;
    font-weight: 600;
}

h1 {
    font-size: 2rem;
    margin-bottom: 1.5rem;
    text-align: center;
    border-bottom: 3px solid var(--primary-color);
    padding-bottom: 0.5rem;
    width: 100%;
    max-width: 1300px;
}

#dynamicContentArea h2 {
    font-size: 1.6rem;
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 0.4rem;
    width: 100%;
    margin-top: 0;
    margin-bottom: 0.5rem;
}
#dynamicContentArea h3 {
    font-size: 1.4rem;
    color: var(--heading-color);
    opacity: 0.9;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.3rem;
    margin-top: 2rem;
    margin-bottom: 1rem;
}
#dynamicContentArea h4 {
    font-size: 1.2rem;
    color: var(--heading-color);
    opacity: 0.8;
    margin-block-start: 1.2em;
    margin-block-end: 0.5em;
    font-weight: 500;
}

#dynamicContentArea.requirement-detail .action-button-container + h2 {
    margin-top: 0.5em;
}

button, .button-like-styling {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.6em;
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    font-weight: 500;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.2s ease, transform 0.1s ease, box-shadow 0.2s ease;
    margin: 0.3rem;
    text-decoration: none;
    text-align: center;
    background-color: var(--neutral-color);
    color: var(--neutral-text);
}
button > .icon, .button-like-styling > .icon {
    order: 1; 
}

button:hover, .button-like-styling:hover {
    background-color: var(--neutral-hover);
}
button:active, .button-like-styling:active {
    transform: scale(0.98);
}
button:focus-visible, .button-like-styling:focus-visible {
    outline: 3px solid var(--focus-ring-color);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px var(--secondary-color); 
}
button:disabled {
    background-color: var(--disabled-bg);
    color: var(--disabled-text);
    cursor: not-allowed;
    opacity: 0.7;
}
.icon {
    display: inline-block;
    font-size: 1.1em; 
    line-height: 1; 
}

#uploadFileButton, #showMetadataButton, #showRequirementsButton, #backButton,
#dynamicContentArea .form-view .form-buttons button[type="button"]:not(.button-danger),
#dynamicContentArea.delete-confirmation-view .form-buttons button[type="button"]:not(.button-danger)
 {
    background-color: var(--neutral-color);
    color: var(--neutral-text);
}
#uploadFileButton:hover, #showMetadataButton:hover, #showRequirementsButton:hover, #backButton:hover,
#dynamicContentArea .form-view .form-buttons button[type="button"]:not(.button-danger):hover,
#dynamicContentArea.delete-confirmation-view .form-buttons button[type="button"]:not(.button-danger):hover
{
    background-color: var(--neutral-hover);
}

/* NYTT: Styling för Spara-knapparna */
@keyframes glow {
    0% { box-shadow: 0 0 3px var(--success-color); }
    50% { box-shadow: 0 0 10px var(--success-color); }
    100% { box-shadow: 0 0 3px var(--success-color); }
}
.save-button {
    background-color: var(--primary-color);
    color: var(--primary-text);
}
.save-button:hover {
    background-color: var(--primary-hover);
}
/* Klass som läggs på när det finns osparade ändringar */
.save-button.has-unsaved-changes {
    background-color: var(--success-color);
    color: var(--success-text);
    animation: glow 1.5s infinite ease-in-out;
}
.save-button.has-unsaved-changes:hover {
    background-color: var(--success-hover);
    animation: none; /* Stäng av glöd vid hover för bättre respons */
}

#dynamicContentArea.form-view .form-buttons button[type="submit"]
{
    background-color: var(--success-color);
    color: var(--success-text);
}
#dynamicContentArea.form-view .form-buttons button[type="submit"]:hover
{
    background-color: var(--success-hover);
}

#addRequirementButton,
#dynamicContentArea .add-item-button {
    background-color: var(--accent-color);
    color: var(--accent-text);
}
#addRequirementButton:hover,
#dynamicContentArea .add-item-button:hover
{
    background-color: var(--accent-hover);
}

.button-danger,
#dynamicContentArea .remove-item-button,
#dynamicContentArea.delete-confirmation-view .button-danger
{
    background-color: var(--danger-color);
    color: var(--danger-text);
}
.button-danger:hover,
#dynamicContentArea .remove-item-button:hover,
#dynamicContentArea.delete-confirmation-view .button-danger:hover
{
    background-color: var(--danger-hover);
}

#dynamicContentArea .requirement-actions button {
    padding: 0.3rem 0.6rem;
    font-size: 0.85rem;
    gap: 0.4em;
}
#dynamicContentArea .requirement-actions button .icon {
    font-size: 1em;
}
#dynamicContentArea .req-view-button {
    background-color: var(--primary-color);
    color: var(--primary-text);
}
#dynamicContentArea .req-view-button:hover {
    background-color: var(--primary-hover);
}
#dynamicContentArea .req-edit-button {
    background-color: var(--warning-color);
    color: var(--warning-text);
}
#dynamicContentArea .req-edit-button:hover {
    background-color: var(--warning-hover);
}

#postUploadControlsContainer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1.5rem;
    margin-bottom: 0; 
    padding: 0.75rem 1.5rem;
    background-color: var(--section-bg);
    border: 1px solid var(--border-color);
    border-bottom: none; 
    border-radius: 8px 8px 0 0;
    width: 95%;
    max-width: 1300px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.06);
}
#postUploadControlsContainer .main-controls,
#postUploadControlsContainer .secondary-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: center;
}
/* BORTTAGEN: Gamla spara-knappen fanns här */
#controlsDivider {
    border: none;
    border-top: 1px solid var(--border-color); 
    margin: 0 auto 0 auto; 
    width: 95%;
    max-width: 1300px;
}
.content-container {
    margin-top: 1.5rem;
    margin-bottom: 2rem;
    padding: 1.5rem 2rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background-color: var(--section-bg);
    width: 95%;
    max-width: 1300px;
    text-align: left;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}
#dynamicContentArea {
    margin-top: 0; 
    margin-bottom: 2rem;
    padding: 1.5rem 2rem;
    border: 1px solid var(--border-color);
    border-top: none; 
    border-radius: 0 0 8px 8px;
    background-color: var(--section-bg);
    width: 95%;
    max-width: 1300px;
    text-align: left;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    overflow-wrap: break-word; 
    position: relative; 
}
#dynamicContentArea::after { 
    content: "";
    display: table;
    clear: both;
}
.hidden {
    display: none !important;
}

#uploadSection {
    text-align: center;
    padding: 2rem 1rem;
}
#uploadSection p {
    margin-bottom: 1rem;
}
#uploadSection .field-instruction {
    font-size: 0.9em;
    color: var(--neutral-color);
    margin-top: 0.5rem;
}
#uploadFileButton {
    margin: 0 auto 1rem auto; 
}


.filter-sort-row {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 1rem;
    width: 100%;
    padding: 0.75rem 0; 
    margin-bottom: 1.5rem; 
    border-bottom: 1px solid var(--border-color);
}
#dynamicContentArea > .filter-sort-row {
    margin-left: -2rem;  
    margin-right: -2rem;
    margin-top: -1rem; 
    padding-left: 2rem;
    padding-right: 2rem;
    width: calc(100% + 4rem); 
}
.search-control {
    display: flex;
    align-items: center;
    position: relative;
    flex-grow: 1;
    min-width: 200px;
    max-width: 450px;
}
#searchInput {
    padding: 0.6rem 0.8rem;
    padding-left: 2.5rem; 
    border: 1px solid var(--neutral-color);
    border-radius: 4px;
    font-size: 0.95em;
    width: 100%;
    background-color: var(--section-bg);
    color: var(--text-color);
}
#searchInput:focus-visible {
    outline: 2px solid var(--focus-ring-color);
    outline-offset: 1px;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px var(--secondary-color);
}
.search-icon {
    position: absolute;
    left: 0.8rem;
    top: 50%;
    transform: translateY(-50%);
    color: var(--neutral-color);
    font-size: 1.1em;
    pointer-events: none; 
}
.visually-hidden {
    position: absolute !important;
    height: 1px; width: 1px;
    overflow: hidden;
    clip: rect(1px 1px 1px 1px); 
    clip: rect(1px, 1px, 1px, 1px);
    white-space: nowrap; 
}
#sortControls {
    display: flex;
    align-items: center;
    gap: 0.5em;
    flex-shrink: 0; 
    flex-basis: auto; 
}
#sortControls label {
    font-size: 0.9em;
    font-weight: 500;
    color: var(--text-color);
    white-space: nowrap; 
}
#sortControls select {
    padding: 0.6rem 0.8rem;
    border-radius: 4px;
    border: 1px solid var(--neutral-color);
    background-color: var(--section-bg);
    color: var(--text-color);
    font-size: 0.9em;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%2364748b%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%20%2F%3E%3C%2Fsvg%3E');
    background-repeat: no-repeat;
    background-position: right 0.7em top 50%;
    background-size: 1.2em auto;
    padding-right: 2.5em; 
    min-width: 180px;
}
body.dark-theme #sortControls select { 
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%23cbd5e1%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%20%2F%3E%3C%2Fsvg%3E');
}
#sortControls select:focus-visible {
    outline: 2px solid var(--focus-ring-color);
    outline-offset: 1px;
    border-color: var(--primary-color);
}
.filter-sort-row #addRequirementButton {
    margin-left: auto; 
    flex-shrink: 0;
}

#dynamicContentArea .metadata-item {
    margin-bottom: 1rem;
    padding: 0.75rem 1rem;
    border-left: 4px solid var(--accent-color);
    background-color: var(--secondary-color); 
    border-radius: 4px;
}
#dynamicContentArea .metadata-item strong {
    color: var(--heading-color);
    display: block;
    margin-bottom: 0.3rem;
    font-size: 1.05em;
}
#dynamicContentArea .metadata-sub-item {
    margin-left: 1.5rem;
    font-size: 0.95em;
    margin-block-start: 0.4em;
    margin-block-end: 0.4em;
}
#dynamicContentArea .metadata-sub-item strong {
    display: inline;
    margin-right: 0.3rem;
    font-size: 1em; 
    color: var(--heading-color);
    opacity: 0.8;
}
#dynamicContentArea a {
    color: var(--link-color);
    text-decoration: none;
    font-weight: 500;
    display: inline-flex; 
    align-items: center;
    gap: 0.4em;
}
#dynamicContentArea a .icon {
    order: 1; 
}
#dynamicContentArea a:hover {
    color: var(--link-hover-color);
    text-decoration: underline;
}

#dynamicContentArea ul.requirement-list {
    list-style: none;
    padding-left: 0;
    margin-top: 0; 
    margin-bottom: 1.5rem;
}
#dynamicContentArea .requirement-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.8rem 1rem;
    margin-bottom: 0.5rem;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background-color: var(--section-bg);
    gap: 1rem;
    transition: background-color 0.1s ease;
}
#dynamicContentArea .requirement-item .requirement-text {
    flex-grow: 1;
    font-weight: 500;
    padding: 0.2em 0; 
    border-radius: 2px; 
    cursor: default; 
}
#dynamicContentArea .requirement-item .requirement-text strong {
    color: var(--primary-color); 
    margin-right: 0.5em;
}
#dynamicContentArea .requirement-item .requirement-actions {
    display: flex;
    gap: 0.4rem;
    flex-shrink: 0; 
}
#dynamicContentArea .requirement-item .requirement-text:focus {
    outline: 3px solid var(--focus-ring-color);
    outline-offset: 2px;
    background-color: var(--secondary-color); 
}

#dynamicContentArea.requirement-detail {
    position: relative; 
}
#dynamicContentArea.requirement-detail .action-button-container {
    position: absolute;
    top: 1.5rem; 
    right: 1.5rem;
    display: flex;
    gap: 0.5rem;
    z-index: 10; 
}
#dynamicContentArea.requirement-detail .action-button-container button {
    padding: 0.4rem 0.8rem;
    font-size: 0.9rem;
}
#dynamicContentArea.requirement-detail .category-info {
    font-style: italic;
    color: var(--neutral-color);
    margin-bottom: 0.5rem;
    font-size: 0.9em;
}
#dynamicContentArea.requirement-detail .impact-info {
    font-size: 0.9em;
    color: var(--neutral-color);
    margin-top: -0.5em; 
    margin-bottom: 1rem;
}
#dynamicContentArea.requirement-detail .standard-ref {
    font-style: normal; 
    color: var(--text-color);
    margin-bottom: 1.5rem;
    display: block;
    font-size: 0.95em;
}
#dynamicContentArea.requirement-detail .standard-ref strong {
    font-weight: 600;
    color: var(--heading-color);
    opacity: 1; 
    margin-right: 0.3em;
}
#dynamicContentArea.requirement-detail .detail-section {
    margin-top: 1.1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-color);
}

#dynamicContentArea.requirement-detail .instructions-section {
    margin-top: 0;
    padding-top: 0;
    border-top: none;
}

#dynamicContentArea.requirement-detail .instructions-section p {
    margin-left: 0;
    padding-left: 0;
}


#dynamicContentArea.requirement-detail .detail-section h3 { 
    border: none;
    margin-bottom: 0.5rem;
    padding-bottom: 0;
    font-size: 1.2rem;
    color: var(--heading-color);
}
#dynamicContentArea.requirement-detail ol,
#dynamicContentArea.requirement-detail ul {
    margin-left: 1.5rem; 
    padding-left: 1rem; 
    margin-bottom: 1rem;
}
#dynamicContentArea.requirement-detail ul { list-style: disc; }
#dynamicContentArea.requirement-detail ol { list-style: decimal; }
#dynamicContentArea.requirement-detail li { margin-bottom: 0.5rem; }

#dynamicContentArea.requirement-detail .check-item {
    margin-bottom: 1.5rem;
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background-color: var(--secondary-color);
}
#dynamicContentArea.requirement-detail .check-item:last-child { margin-bottom: 0; }
#dynamicContentArea.requirement-detail .check-item h4 { 
    font-size: 1.1em;
    font-weight: 600;
    margin-top: 0;
    margin-bottom: 0.75rem;
    padding-bottom: 0.3rem;
    border-bottom: 1px dotted var(--border-color);
    color: var(--heading-color);
}
#dynamicContentArea.requirement-detail .check-condition {
    font-weight: 600; 
    margin-top: 0;
    margin-bottom: 0.75rem;
    display: block;
    background-color: var(--section-bg); 
    padding: 0.6rem 1rem;
    border-radius: 3px;
    border-left: 4px solid var(--accent-color);
}
#dynamicContentArea.requirement-detail .check-logic {
    font-style: italic;
    color: var(--neutral-color);
    margin-left: 0; 
    display: block;
    margin-top: -0.5rem; 
    margin-bottom: 0.75rem;
    font-size: 0.9em;
}
#dynamicContentArea.requirement-detail .pass-criteria-list {
    margin-top: 0.5rem;
    margin-left: 1.5rem; 
    list-style: disc;
}
#dynamicContentArea.requirement-detail .exceptions {
    background-color: var(--exception-bg);
    border: 1px solid var(--exception-border);
    padding: 1rem 1.5rem;
    border-radius: 4px;
    margin-top: 1.5rem;
    font-size: 0.95em;
}
#dynamicContentArea.requirement-detail .exceptions h3 {
    margin-top: 0;
    margin-bottom: 0.5rem;
    font-size: 1.2rem;
    color: var(--warning-hover); 
}
#dynamicContentArea.requirement-detail .exceptions p { margin: 0; line-height: 1.6; }
#dynamicContentArea.requirement-detail .exceptions code {
    background-color: var(--code-bg);
    border: 1px solid var(--code-border);
    color: var(--heading-color); 
    padding: 0.1em 0.3em;
    border-radius: 3px;
    font-size: 0.95em;
}
#dynamicContentArea #backButton {
    margin-top: 2rem;
    display: block;
    margin-left: auto;
    margin-right: auto;
}
#dynamicContentArea.requirement-detail .detail-section p,
#dynamicContentArea.requirement-detail .check-condition,
#dynamicContentArea.requirement-detail .pass-criteria-list li,
#dynamicContentArea.requirement-detail .detail-section ol li,
#dynamicContentArea.requirement-detail .detail-section ul li {
    white-space: break-spaces; 
    word-wrap: break-word; 
    overflow-wrap: break-word; 
    line-height: 1.5;
    margin-block-end: 0.0em; 
}

#dynamicContentArea.requirement-detail .pass-criteria-list li .failure-template-display {
    white-space: normal;
}

code, kbd, samp, pre {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    background-color: var(--code-bg);
    border: 1px solid var(--code-border);
    padding: 0.1em 0.3em;
    border-radius: 3px;
    font-size: 0.95em;
    color: var(--heading-color);
}
pre {
    padding: 0.75rem 1rem;
    overflow-x: auto; 
    white-space: pre-wrap; 
    word-wrap: break-word;
}
#dynamicContentArea.form-view fieldset {
    border: 1px solid var(--border-color);
    border-radius: 5px;
    padding: 1rem 1.5rem;
    margin-bottom: 1.5rem;
    margin-top: 1rem;
    background-color: var(--fieldset-bg-light); 
}
body.dark-theme #dynamicContentArea.form-view fieldset {
    background-color: rgba(255,255,255,0.03); 
}
#dynamicContentArea.form-view legend {
    font-weight: 600;
    color: var(--heading-color);
    padding: 0 0.5rem;
    font-size: 1.1em;
    background: transparent; 
}
body.light-theme #dynamicContentArea.form-view legend {
    background: var(--fieldset-bg-light); 
}
body.dark-theme #dynamicContentArea.form-view legend {
    background: var(--secondary-color); 
}

#dynamicContentArea.form-view .form-field {
    margin-bottom: 1.2rem;
}
#dynamicContentArea.form-view label {
    display: block;
    margin-bottom: 0.4rem;
    font-weight: 500;
    color: var(--heading-color);
    opacity: 0.9;
    font-size: 0.95em;
}
#dynamicContentArea.form-view .field-instruction {
    font-size: 0.85em;
    color: var(--neutral-color);
    margin-top: -0.2em; 
    margin-bottom: 0.5em;
    line-height: 1.3;
}
#dynamicContentArea.form-view fieldset > .field-instruction,
#dynamicContentArea.form-view .criteria-group > .field-instruction {
    margin-top: 0.5rem;
    margin-bottom: 1rem;
}


#dynamicContentArea.form-view input[type="text"],
#dynamicContentArea.form-view input[type="email"],
#dynamicContentArea.form-view input[type="url"],
#dynamicContentArea.form-view input[type="date"],
#dynamicContentArea.form-view input[type="number"],
#dynamicContentArea.form-view select,
#dynamicContentArea.form-view textarea {
    width: 100%;
    padding: 0.7rem 0.9rem;
    border: 1px solid var(--neutral-color);
    border-radius: 4px;
    font-size: 1em;
    font-family: inherit;
    background-color: var(--section-bg);
    color: var(--text-color);
    transition: border-color 0.2s, box-shadow 0.2s;
}

body.dark-theme #dynamicContentArea.form-view input[type="text"],
body.dark-theme #dynamicContentArea.form-view input[type="email"],
body.dark-theme #dynamicContentArea.form-view input[type="url"],
body.dark-theme #dynamicContentArea.form-view input[type="date"],
body.dark-theme #dynamicContentArea.form-view input[type="number"],
body.dark-theme #dynamicContentArea.form-view select,
body.dark-theme #dynamicContentArea.form-view textarea {
    background-color: var(--input-bg-dark); 
}


#dynamicContentArea.form-view .form-field-checkbox {
    display: flex;
    align-items: center;
    gap: 0.5em;
}
#dynamicContentArea.form-view input[type="checkbox"] {
    width: auto; 
    margin-right: 0; 
    accent-color: var(--primary-color); 
    width: 1.2em; 
    height: 1.2em;
    cursor: pointer;
    border: 1px solid var(--neutral-color); 
    background-color: var(--section-bg);
    appearance: none; 
    -webkit-appearance: none;
    border-radius: 3px;
    position: relative; 
}
#dynamicContentArea.form-view input[type="checkbox"]:checked::before {
    content: '✔'; 
    position: absolute;
    top: -0.1em; 
    left: 0.05em;
    color: var(--primary-color);
    font-size: 1.2em; 
    line-height: 1;
}

#dynamicContentArea.form-view .form-field-checkbox label {
    display: inline-block;
    margin-bottom: 0; 
    cursor: pointer;
    font-weight: normal; 
}
#dynamicContentArea.form-view input::placeholder,
#dynamicContentArea.form-view textarea::placeholder {
    /* Placeholders används inte längre primärt, men behåll för eventuella fall */
    color: var(--placeholder-text); 
    opacity: 1; 
}
#dynamicContentArea.form-view textarea {
    resize: vertical; 
    min-height: calc(2 * 1.6em); /* Minst 2 rader (justerat från 5 eftersom rows=1 sätts initialt) */
}
#dynamicContentArea.form-view select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22%2364748b%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M5.293%207.293a1%201%200%20011.414%200L10%2010.586l3.293-3.293a1%201%200%20111.414%201.414l-4%204a1%201%200%2001-1.414%200l-4-4a1%201%200%20010-1.414z%22%20clip-rule%3D%22evenodd%22%20%2F%3E%3C%2Fsvg%3E');
    background-repeat: no-repeat;
    background-position: right 0.7em top 50%;
    background-size: 1.2em auto;
    padding-right: 2.5em;
    cursor: pointer;
}
#dynamicContentArea.form-view input[readonly],
#dynamicContentArea.form-view textarea[readonly],
#dynamicContentArea.form-view input:disabled,
#dynamicContentArea.form-view textarea:disabled,
#dynamicContentArea.form-view select:disabled {
    background-color: var(--disabled-bg);
    color: var(--disabled-text);
    cursor: not-allowed;
    border-color: var(--border-color);
    opacity: 0.7;
}
#dynamicContentArea.form-view input:focus-visible,
#dynamicContentArea.form-view select:focus-visible,
#dynamicContentArea.form-view textarea:focus-visible {
    outline: 2px solid var(--focus-ring-color);
    outline-offset: 1px;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px var(--secondary-color);
}
#dynamicContentArea.form-view .form-buttons {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: flex-end; 
    flex-wrap: wrap; 
    gap: 0.5rem;
}
#dynamicContentArea.form-view .dynamic-list {
    list-style: none;
    padding-left: 0;
    margin-top: 0.5rem;
    margin-bottom: 1rem;
}
#dynamicContentArea.form-view .dynamic-list-item {
    display: flex;
    align-items: flex-start; 
    margin-bottom: 0.75rem;
    padding: 0.75rem;
    border: 1px dashed var(--border-color);
    border-radius: 4px;
    background-color: var(--section-bg); 
    gap: 0.5rem;
}
#dynamicContentArea.form-view .dynamic-list-item textarea,
#dynamicContentArea.form-view .dynamic-list-item select {
    flex-grow: 1; 
}
#dynamicContentArea.form-view .dynamic-list-item textarea {
     min-height: calc(2 * 1.6em); 
}
#dynamicContentArea.form-view .remove-item-button {
    padding: 0.3rem 0.6rem;
    font-size: 0.85rem;
    flex-shrink: 0; 
    margin-top: 0.2rem; 
    line-height: 1.4; 
}
#dynamicContentArea.form-view .add-item-button {
    display: block; 
    margin-top: 0.5rem;
    padding: 0.4rem 0.8rem;
    font-size: 0.9rem;
}

/* Styling för Check Fieldset och dess header */
#dynamicContentArea.form-view .check-fieldset {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    border: 1px solid var(--border-color);
    margin-bottom: 2rem;
    padding: 1rem 1.5rem 1.5rem 1.5rem; 
    position: relative; 
    background-color: var(--secondary-color);
    border-radius: 6px;
    transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1); 
    will-change: transform; 
}
body.light-theme #dynamicContentArea.form-view .check-fieldset {
    background-color: var(--fieldset-bg-light);
}
body.dark-theme #dynamicContentArea.form-view .check-fieldset {
    background-color: #2c3a50; 
}

.check-fieldset-header {
    display: flex;
    align-items: center; /* Centrera vertikalt */
    flex-wrap: wrap; 
    margin-bottom: 1rem; 
    padding-bottom: 0.75rem;
    border-bottom: 1px dashed var(--border-color);
    gap: 0.75rem; 
}
.check-fieldset-header legend {
    font-size: 1.2em !important; 
    font-weight: 600 !important;
    padding: 0 !important; 
    margin: 0 !important; 
    color: var(--heading-color) !important;
    background: none !important; 
    flex-shrink: 0; /* Låt inte legend krympa */
    margin-right: 0.5rem; /* Lite space till flyttknapparna */
}
.check-fieldset-move-buttons {
    display: flex;
    gap: 0.5rem; 
    order: 1; 
    margin-right: auto; /* Skjuter Ta-bort knappen till höger */
}
.move-check-button {
    padding: 0.4rem 0.8rem !important; 
    font-size: 0.9rem !important; 
    line-height: 1.2 !important;
    min-width: auto !important; 
    background-color: var(--neutral-color);
    color: var(--neutral-text);
    display: inline-flex; 
    align-items: center;
    gap: 0.4em; 
}
.move-check-button .move-arrow {
    font-weight: bold; 
    font-size: 1.1em; 
    order: 1; /* Pilen till höger om texten */
}
.move-check-button:hover {
    background-color: var(--neutral-hover);
}

#dynamicContentArea.form-view .remove-check-button {
    position: static; 
    order: 2; /* Efter flyttknapparna */
    margin: 0 0 0 0 !important; /* Nollställ tidigare auto-marginal om den fanns */
    padding: 0.4rem 0.8rem !important; 
    font-size: 0.9rem !important; 
}


#dynamicContentArea.form-view .check-fieldset .form-field {
    margin-bottom: 1.5rem;
}
#dynamicContentArea.form-view .criteria-group {
    box-sizing: border-box; 
    margin-top: 1.5rem;
    padding: 1rem 1.5rem;
    background-color: var(--section-bg); 
    border: 1px dotted var(--border-color);
    border-radius: 4px;
}
#dynamicContentArea.form-view .criteria-group legend {
    font-size: 1em;
    font-weight: 500;
    padding: 0 0.4em;
    background-color: var(--section-bg); 
    color: var(--neutral-color);
    margin-bottom: 0.75rem;
}
#dynamicContentArea.form-view .criteria-group .field-instruction.criteria-group-instruction {
    margin-top: -0.5rem; /* Närmare legend */
    margin-bottom: 1rem;
    font-size: 0.9em;
}

/* START: New styles for failure statement templates */
/* In Display View */
.failure-template-display {
    margin-top: 0.75rem;
    margin-left: 0;
    padding: 0.6rem 1rem;
    background-color: var(--secondary-color);
    border-left: 3px solid var(--accent-color);
    border-radius: 0 4px 4px 0;
    font-size: 0.9em;
    color: var(--text-color);
    opacity: 0.9;
    white-space: normal;
}



#dynamicContentArea.form-view .dynamic-list-item.pass-criterion-item,
#dynamicContentArea.form-view .dynamic-list-item.ifNo-criterion-item {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    gap: 0.5rem;
    width: 100%;
}

.criterion-fields-wrapper {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    gap: 0.5rem;
}

.criterion-remove-wrapper {
    flex-shrink: 0;
    padding-top: 1.5rem; 
}

.criterion-fields-wrapper .form-field {
    margin-bottom: 0.5rem;
}

.criterion-fields-wrapper .form-field:last-child {
    margin-bottom: 0;
}

#dynamicContentArea.form-view .criterion-fields-wrapper label {
    font-size: 0.9em;
    opacity: 0.8;
}

#dynamicContentArea.form-view .criterion-fields-wrapper .field-instruction {
    font-size: 0.8em;
}
/* END: New styles */

#dynamicContentArea.form-view .criteria-group .add-item-button {
    display: block;
    margin-top: 1rem;
    text-align: right; 
}
#dynamicContentArea.form-view .criteria-group .remove-item-button {
    padding: 0.2rem 0.5rem;
    font-size: 0.8rem;
    margin-left: 0.5rem; 
}

#dynamicContentArea.delete-confirmation-view {
    text-align: center;
    padding: 2rem;
}
#dynamicContentArea.delete-confirmation-view h2 {
    color: var(--danger-color);
    border: none;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5em;
}
#dynamicContentArea.delete-confirmation-view h2 .icon {
    order: 1; 
}

#dynamicContentArea.delete-confirmation-view p {
    margin-bottom: 1.5rem;
    font-size: 1.1em;
}
#dynamicContentArea.delete-confirmation-view strong {
    font-weight: 600;
    color: var(--heading-color);
}
#dynamicContentArea.delete-confirmation-view .form-buttons {
    justify-content: center; 
    border: none; 
    padding-top: 0;
    gap: 1rem; 
}
#dynamicContentArea.delete-confirmation-view .form-buttons button {
    padding: 0.8rem 1.5rem; 
}
#dynamicContentArea.delete-confirmation-view .button-danger {
    font-weight: bold; 
}

.error, .confirmation-message {
    padding: 0.8em 1.2em;
    border-radius: 4px;
    margin: 1rem 0; 
    text-align: center;
    font-weight: 500;
    border: 1px solid;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5em;
}
.error .icon, .confirmation-message .icon {
    order: 1; 
}
.error {
    color: #721c24; background-color: #f8d7da; border-color: #f5c6cb;
}
.confirmation-message.save-confirmation {
    color: #0f5132; background-color: #d1e7dd; border-color: #badbcc;
}
.confirmation-message.delete-confirmation {
    color: #581c87; background-color: #f3e8ff; border-color: #e9d5ff; 
}
.confirmation-message.info-confirmation {
    color: #055160; background-color: #cff4fc; border-color: #b6effb; 
}

body.dark-theme .error {
    color: #f8d7da; background-color: #721c24; border-color: #f5c6cb;
}
body.dark-theme .confirmation-message.save-confirmation {
    color: #d1e7dd; background-color: #0f5132; border-color: #badbcc;
}
body.dark-theme .confirmation-message.delete-confirmation {
    color: #f3e8ff; background-color: #581c87; border-color: #e9d5ff;
}
body.dark-theme .confirmation-message.info-confirmation {
    color: #cff4fc; background-color: #055160; border-color: #b6effb;
}

.content-container > .error { 
    margin: 0; 
    border-radius: 8px; 
}

.save-confirmation-inline {
    font-size: 0.9em;
    display: inline-flex;
    align-items: center;
    gap: 0.4em;
}
.save-confirmation-inline .icon {
    order: 1; 
}


#dynamicContentArea.manage-ct-associations-view h2 {
    margin-bottom: 0.5rem;
    font-size: 1.5rem;
}
#dynamicContentArea.manage-ct-associations-view > p {
    margin-bottom: 1.5rem;
    font-size: 0.95em;
    background-color: var(--secondary-color);
    padding: 0.75rem 1rem;
    border-radius: 4px;
    border-left: 3px solid var(--accent-color);
}

.ct-association-filter {
    margin-bottom: 1.5rem;
    padding: 0.5rem;
    background-color: var(--secondary-color);
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 0.5em;
    font-size: 0.9em;
}
.ct-association-filter label {
    font-weight: 500;
    color: var(--text-color);
}
.ct-association-filter select {
    padding: 0.4rem 0.6rem;
    border-radius: 3px;
    border: 1px solid var(--neutral-color);
    background-color: var(--section-bg);
    color: var(--text-color);
    cursor: pointer;
}


#dynamicContentArea.manage-ct-associations-view h3 {
    font-size: 1.3rem;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    padding-bottom: 0.2rem;
    border-bottom: 1px solid var(--border-color);
}
#dynamicContentArea.manage-ct-associations-view h4 {
    font-size: 1.1rem;
    margin-top: 1rem;
    margin-bottom: 0.3rem;
    color: var(--heading-color);
    opacity: 0.8;
    font-weight: 500;
}

.manage-ct-assoc-list {
    list-style: none;
    padding-left: 0;
    margin-top: 0.5rem;
}
.manage-ct-assoc-list .requirement-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.6rem 0.5rem;
    margin-bottom: 0.3rem;
    border-bottom: 1px dotted var(--border-color);
}
.manage-ct-assoc-list .requirement-item:last-child {
    border-bottom: none;
}

.manage-ct-assoc-list .checkbox-container {
    display: flex;
    align-items: center;
    min-width: 0; 
    flex-grow: 1;
}

.manage-ct-assoc-list input[type="checkbox"] {
    width: 1.2em;
    height: 1.2em;
    margin-right: 0.3em;
    accent-color: var(--primary-color);
    cursor: pointer;
    flex-shrink: 0; 
    appearance: none;
    -webkit-appearance: none;
    background-color: var(--section-bg);
    border: 1px solid var(--neutral-color);
    border-radius: 3px;
    position: relative;
    display: inline-block; 
    vertical-align: middle;
}
.manage-ct-assoc-list input[type="checkbox"]:checked::before {
    content: '✔';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--primary-color);
    font-size: 1em; 
    line-height: 1;
}


.manage-ct-assoc-list label {
    min-width: 0; 
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    padding-left: 0.3em; 
}

.manage-ct-assoc-list .requirement-text-brief strong {
    color: var(--primary-color);
    margin-right: 0.3em;
}

.manage-ct-assoc-list .ct-assoc-actions {
    flex-shrink: 0;
    margin-left: 1em; 
}
.manage-ct-assoc-list .ct-assoc-view-button {
    padding: 0.25rem 0.5rem;
    font-size: 0.8rem;
}


.manage-ct-view-buttons {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
}

.manage-ct-view-buttons .save-ct-view-changes-button {
    background-color: var(--success-color);
    color: var(--success-text);
}
.manage-ct-view-buttons .save-ct-view-changes-button:hover {
    background-color: var(--success-hover);
}
.manage-ct-view-buttons .save-ct-view-changes-button:disabled {
    background-color: var(--disabled-bg);
    color: var(--disabled-text);
    cursor: not-allowed;
}


#dynamicContentArea.reqs-no-ct-view h2 {
    margin-bottom: 1rem;
}


#dynamicContentArea .special-link-item {
    margin-top: 1.5rem;
    padding: 0.75rem 1rem;
    background-color: var(--secondary-color);
    border-left: 4px solid var(--warning-color);
    border-radius: 4px;
}
#dynamicContentArea .special-link-item a {
    font-weight: 600;
}

@media (max-width: 1200px) {
    /* Inga specifika ändringar just nu */
}

@media (max-width: 768px) {
    h1 { font-size: 1.8rem; max-width: 95%;}
    #dynamicContentArea h2 { font-size: 1.5rem; }
    #dynamicContentArea h3 { font-size: 1.2rem; }

    .action-bar, /* NYTT */
    #postUploadControlsContainer {
        flex-direction: column;
        align-items: stretch;
        max-width: 95%;
    }
    .action-bar-content { /* NYTT */
        justify-content: space-between;
    }
    #postUploadControlsContainer .main-controls,
    #postUploadControlsContainer .secondary-controls {
        justify-content: center;
    }
    #postUploadControlsContainer button {
        width: 100%;
        margin: 0.3rem 0;
        justify-content: center;
    }
    #postUploadControlsContainer .secondary-controls {
        width: 100%;
    }
    .content-container, #dynamicContentArea, #controlsDivider {
        max-width: 95%;
    }

    .filter-sort-row {
        flex-direction: column;
        align-items: stretch;
        gap: 0.8rem;
    }
    .search-control {
        max-width: none;
        order: 2;
    }
    #sortControls {
        justify-content: flex-start;
        order: 1;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 0.5rem;
        width: 100%;
    }
    #sortControls label { margin-bottom: 0; }
    #sortControls select {
        flex-grow: 1;
        min-width: 150px;
    }
    .filter-sort-row #addRequirementButton {
        margin-left: 0;
        width: 100%;
        order: 3;
        margin-top: 0.5rem;
    }

    #dynamicContentArea .requirement-item {
        flex-direction: column;
        align-items: flex-start;
    }
    #dynamicContentArea .requirement-item .requirement-actions {
        margin-top: 0.5rem;
        align-self: flex-end; 
    }

    #dynamicContentArea.requirement-detail .action-button-container {
        position: static; 
        margin-bottom: 1rem;
        justify-content: flex-end; 
    }
    #dynamicContentArea.requirement-detail .action-button-container + h2 {
        margin-top: 1.5em; 
    }
    .check-fieldset-header {
        flex-wrap: wrap; 
    }
    .check-fieldset-header legend {
        width: 100%; 
        margin-bottom: 0.5rem !important; 
        margin-right: 0; 
    }
    .check-fieldset-move-buttons { 
        order: 1; 
        margin-bottom: 0.5rem;
        margin-left: 0; 
        justify-content: flex-start; 
    }
    #dynamicContentArea.form-view .remove-check-button { 
        order: 2; 
        align-self: flex-start; 
        margin-left: auto; 
    }

}

@media (max-width: 600px) {
    body { padding: 0.5rem; }
    h1 { font-size: 1.5rem; max-width: 100%; border-bottom-width: 2px; }
    #dynamicContentArea h2 { font-size: 1.3rem; }
    #dynamicContentArea h3 { font-size: 1.15rem; margin-top: 1.5rem;}
    
    .action-bar, /* NYTT */
    .content-container,
    #postUploadControlsContainer,
    #controlsDivider,
    #dynamicContentArea {
        width: 100%;
        padding: 1rem;
        max-width: 100%;
        border-radius: 0;
        border-left: none;
        border-right: none;
        box-shadow: none;
        border-top: none; 
        border-bottom: 1px solid var(--border-color);
        margin-bottom: 0; 
    }
    body > *:last-child { 
        border-bottom: none;
        margin-bottom: 1rem; 
    }
    #top-bar { /* NYTT */
        margin-bottom: 0;
    }
    #bottom-bar { /* NYTT */
        margin-top: 0;
    }

    #postUploadControlsContainer { margin-top: 1rem; padding-bottom: 1rem;}
    #controlsDivider { margin: 0 auto; width: 100%; border-top-width: 1px;}
    #dynamicContentArea { margin-top: 0; padding-top: 1.5rem;}
    .content-container {margin-top: 1rem;}


    button, .button-like-styling {
        padding: 0.7rem 1rem;
        font-size: 0.95rem;
    }
    #postUploadControlsContainer button {
        width: 100%;
        margin: 0.3rem 0;
        justify-content: center;
    }

    .filter-sort-row {
        gap: 0.5rem;
        padding: 0.5rem 0;
    }
    #sortControls {
        flex-direction: column;
        align-items: stretch;
    }
    #sortControls label {
        text-align: left;
        margin-bottom: 0.2rem;
    }
    #sortControls select {
        width: 100%;
        flex-grow: 0; 
    }
    .filter-sort-row #addRequirementButton {
        margin-top: 0.5rem;
    }

    #dynamicContentArea.form-view fieldset {
        padding: 0.8rem 1rem;
    }
    #dynamicContentArea.form-view .form-buttons {
        justify-content: center;
    }
    #dynamicContentArea.form-view .form-buttons button {
        width: 90%; 
    }
    #dynamicContentArea.form-view .dynamic-list-item {
        flex-direction: column;
        align-items: stretch;
    }
    #dynamicContentArea.form-view .dynamic-list-item textarea,
    #dynamicContentArea.form-view .dynamic-list-item select {
        margin-right: 0; 
        margin-bottom: 0.5rem;
    }
    #dynamicContentArea.form-view .remove-item-button {
        align-self: flex-end; 
        margin-top: 0;
    }
    #dynamicContentArea.form-view .check-fieldset { padding: 1rem; }
    
    #dynamicContentArea.form-view .check-fieldset::after { 
        content: "";
        display: table;
        clear: both;
    }
    #dynamicContentArea.form-view .criteria-group {
        padding: 0.8rem 1rem;
    }
    .check-fieldset-header {
        align-items: flex-start; 
    }
    .check-fieldset-header legend {
        flex-basis: 100%; 
        margin-bottom: 0.5rem !important;
    }
    .check-fieldset-move-buttons {
        order: 1; 
        margin-left: 0; 
        margin-bottom: 0.5rem;
    }
    #dynamicContentArea.form-view .remove-check-button {
        order: 2; 
        margin-left: auto; 
    }


    #dynamicContentArea.requirement-detail .action-button-container {
        padding: 0;
        margin-bottom: 1rem;
    }
    #dynamicContentArea.requirement-detail .action-button-container button {
        width: calc(50% - 0.25rem); 
        margin: 0;
    }

    #dynamicContentArea.manage-ct-associations-view h3 { font-size: 1.2rem; }
    #dynamicContentArea.manage-ct-associations-view h4 { font-size: 1.05rem; }
    .manage-ct-assoc-list .requirement-item { flex-wrap: wrap; }
    .manage-ct-assoc-list .checkbox-container { margin-bottom: 0.3rem; }
    .manage-ct-view-buttons { flex-direction: column; }
    .manage-ct-view-buttons button { width: 100%; }
}

/* END OF FILE style.css */